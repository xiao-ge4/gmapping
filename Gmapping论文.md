---
typora-copy-images-to: ./
---

## 单词表

| 英文              | 中文                               |
| ----------------- | ---------------------------------- |
| simultaneous      | 实时                               |
| particle          | 粒子                               |
|                   |                                    |
| Accordingly       | 因此                               |
| adaptive          | 适应的                             |
| techniques        | 技术                               |
| propose           | 提出                               |
| proposal          | 建议 / 提议                        |
| distribution      | 分布                               |
| account           | 帐户                               |
| take into account | 考虑                               |
| drastically       | 大幅                               |
| drastic           | 剧烈、激烈                         |
| resample          | 重采样                             |
| depletion         | 枯竭、耗散                         |
| illustrate        | 说明                               |
| term              | 条款、术语                         |
| quantity          | 数量                               |
| potentially       | 潜在                               |
| eliminate         | 消除                               |
| impoverishment    | 贫困、贫瘠                         |
| impoverish        | v 使贫困、使枯竭                   |
| substantially     | adv 大幅                           |
| substantial       | adj 大量                           |
| manner            | 方式                               |
| reasonable        | 合理                               |
| likelihood        | 可能性、似然、几率                 |
| dependent         | 依靠、依赖性                       |
| obtain            | 获得                               |
| procedure         | 程序、过程                         |
| informed          | 通知 v、明智的 adj                 |
| incorporated      | 注册、纳入                         |
| posterior         | 后面的                             |
| strategy          | 策略                               |
| diversity         | 多样性                             |
| formal            | 正规、形式化                       |
| validate          | 验证                               |
| systematic        | adj 系统化                         |
| metric            | 度量                               |
| magnitude         | 大小、级                           |
| implementation    | 实现、执行                         |
| joint             | 联合、关节                         |
| trajectory        | 轨迹                               |
| factorization     | 分解                               |
| corresponding     | 相应的                             |
| incrementally     | 递增的                             |
| assign            | 分配                               |
| successor         | 继承者                             |
| proportional      | 成比例的、协调的、相称的           |
| finite            | 有限的                             |
| schema            | 模式                               |
| scratch           | 刮伤、划痕                         |
| from scratch      | 从头开始                           |
| recursive         | 递归                               |
| formulation       | 配方、方式                         |
| restricting       | 限制                               |
| factor            | 因素                               |
| Whereas           | 但是（表转折）                     |
| specifies         | 指定                               |
| framework         | 框架                               |
| remainder         | 剩余部分                           |
| pre-requisites    | 必备条件                           |
| namely            | 即                                 |
| Intuitively       | 直观地 adv                         |
| For instance      | 例如                               |
| instance          | 例子                               |
| context           | 上下文                             |
| suboptimal        | 次优的                             |
| illustrates       | 说明了                             |
| fraction          | 分数                               |
| comparably        | 相对                               |
| discards          | 丢弃                               |
| integrating       | 集成                               |
| integrate         | 集成                               |
| extremely         | 极、非常                           |
| peaked            | 到达顶峰 adj                       |
| peak              | 顶峰 n                             |
| maxima            | 最大数，极大值；最大限度，极限     |
| surrounding       | 周围的，附近的，周围环境，周围环境 |
| interval          | 时间间隔                           |
| depict            | 描述                               |
| corridor          | 走廊                               |
| hypotheses        | 假设                               |
| reentering        | 重返                               |
| overly            | 过度                               |
| clutter           | adj 杂乱 ，v 塞满、使杂乱          |
| criterion         | 标准、尺度                         |
| so-called         | 所谓的                             |
| quantity          | 数量                               |
| threshold         | 阈值                               |
| compounding | 复合、混合、由......构成 |
| execute                  | 执行 |
| pointwise | 逐点的 |
| arbitrary | 任意的 |
| descent | 下降、降落；斜坡；出身，血统 |
| obstacle | 障碍、障碍物 |
| convolve | 卷积 |
| kinematics | 运动学 |
| sophisticated | 复杂的 |
| velocity | 速度 |
| duplicate | 重复的 |
| overall | 整体 |
| orthogonal | 正交 |
| dominant | 占主导地位的 |




## 题目

Improved Techniques for Grid Mapping with Rao-Blackwellized Particle Filters

使用 Rao-Blackwellized  粒子滤进行栅格建图

## 摘要

近年来，Rao-Blackwellized 粒子滤波器（RBPF）被引入到解决同时定位和建图问题中。本方法使用粒子滤波器，其中每个粒子都携带自己的环境地图（一个粒子一个地图）。因此，一个关键问题是如何减少粒子的数量。在这篇文章中，我们提出了在建立栅格地图时使用 RBPF 来减少粒子数量的自适应技术。我们提出了一种计算精确建议分布的方法，不仅考虑了机器人的运动，而且还考虑了最近的观测。这大大降低了滤波器预测步骤中机器人姿态的不确定性。此外，我们还提出了一种选择性地执行重采样操作的方法，这大大减少了粒子耗尽的问题。在大尺度室内和室外环境中，用真实的移动机器人进行的实验结果说明了我们的方法比以前的方法的优势。

## 关键字（索引术语）

实时定位与建图

RB粒子滤波

自适应重采样

移动模型

改进分布（建议分布）

## Ⅰ 介绍

地图绘制是移动机器人的基本任务之一。在文献中，移动机器人的建图问题通常被称为同时定位和映射（SLAM）问题[4, 6, 9, 15, 16, 26, 29, 32, 39]。这被认为是一个复杂的问题，因为对于定位，机器人需要一个一致的地图，而对于获取地图，机器人需要对其位置进行良好的估计。姿态估计和地图估计之间的这种相互依赖使得SLAM问题变得困难，需要在高维空间中寻找解决方案。

Murphy，Doucet及其同事们[6, 32]介绍了 Rao-Blackwellized 粒子滤波器（RBPF）作为解决SLAM问题的有效方法。Rao-Blackwellized 方法的主要问题是它们的复杂性：这些复杂性是用建立精确地图所需的粒子数来衡量的。因此，减少粒子数量是这类算法面临的主要挑战之一。此外，重采样步骤可以潜在地消除正确的粒子。这种效果也称为粒子耗尽问题，或粒子贫化 [44]。

在本文中，我们提出了两种方法来显著提高 RBPF 的性能，并将其应用于解决栅格地图的 SLAM 问题：

- 一种建议分布，不仅考虑到机器人传感器精度并允许我们以高精度方式绘制粒子；
- 一种自适应重采样技术，它保留了合理粒子的多样新，并以这种方式在使算法能够学习精确映射的同时，降低粒子耗尽的风险。

建议分布是通过评估与粒子周围的最可能姿态的可能性来计算的，该可能性是通过扫描匹配过程与里程信息相结合获得的。以这种方式，最新的传感器观测被考虑到生成下一代粒子。这使得我们能够根据一个比仅基于里程信息获得的模型更为富含信息（从而更为准确）的模型来估计机器人的状态。

使用这种改进的模型有两个效果。

考虑到当前的观测结果对机器人姿态的影响，使得地图更加精确。这显著地减少了估计误差，因此需要更少的粒子来表示后验。

第二种方法，自适应重采样策略，允许我们仅在需要时执行重采样步骤，这种方法下也保持了合理粒子的多样性。这将显著降低粒子耗尽的风险。

本文的工作是我们先前工作的扩展[14]，因为它进一步优化了建议分布，以更准确地绘制下一代粒子。此外，我们还添加了复杂性分析，对所使用的技术进行了形式化描述，并在本文中提供了更详细的实验。我们的方法已经在一系列大型室内外环境的系统实验中得到了验证。在所有实验中，我们的方法生成了高精度的度量地图。此外，所需粒子的数量比以前的方法低一个数量级。

本文的结构如下。在解释了如何使用 Rao-Blackwellized 滤波器来解决 SLAM 问题之后，我们在第三节描述了我们的方法。然后在第四节提供了实现细节。在第六节中介绍了在真实机器人上进行的实验。最后，第七节讨论了相关的方法。

## Ⅱ 使用 RB 粒子滤波器建图

根据 Murphy[32] ，SLAM 的 RBPF 的关键思想是估计地图的联合后验概率 ![1664931513886](.\1664931513886.png) 和机器人的轨迹![1664931551638](.\1664931551638.png)。在给定移动机器人获得的观测值![1664931574335](.\1664931574335.png)和里程测量值![1664931592602](.\1664931592602.png)的情况下，进行该估计。SLAM 的 RBPF 使用以下式子进行因子分解：

![1664931747639](.\1664931747639.png)

这个分解允许我们首先估计机器人的轨迹，然后计算给定轨迹的地图。由于地图高度依赖于机器人的姿态估计，这种方法提供了一种有效的计算方法。这种技术通常被称为 Rao-Blackwellization 。
通常，（1）可以被有效地计算，因为![1664931788079](.\1664931788079.png)和![1664931797086](.\1664931797086.png)是已经知道的。地图的后验概率密度函数![1664931830310](.\1664931830310.png)可以通过已知位姿的建图方法（ mapping with known poses ）来计算。

为了估计潜在轨迹上的后验概率![1664932044187](.\1664932044187.png)，可以应用粒子滤波器。每个粒子代表机器人的一个潜在轨迹。此外，一个单独的地图与每个样本相关联。这些地图是根据观测结果建立的，轨迹由相应的粒子表示。

最常用的粒子滤波算法之一是重要性采样（SIR）滤波器。用于建图的Rao-Blackwellized SIR滤波器，增量式地处理传感器观测值和里程计读数（当他们可获取的时候）。它更新代表地图和车辆轨迹的后验概率的样本集。这个过程可以概括为以下四个步骤。

1. 采样：下一代粒子![1664932354624](.\1664932354624.png)是从![1664932364920](.\1664932364920.png)一代中通过从建议分布 π 采样获得的。通常，建议分布使用概率里程运动模型。
2. 重要性权重：根据重要性抽样原则（如下），为每个粒子分配一个单独的重要性权重
   ![1664932506530](.\1664932506530.png)
   计算出的权重反映了了建议分布 π 通常不等于后续状态的目标分布这一事实。
3. 重采样：根据权值的比例重新分布采样粒子。这一步是必要的，因为只有有限数量的粒子用于近似连续分布。此外，重采样允许我们在目标分布与建议分布不同的情况下应用粒子过滤器。重采样后，所有粒子具有相同的权重。
4. 地图估计：对于每个粒子，根据该样本的轨迹![1664932931975](.\1664932931975.png)和观测历史![1664932941362](.\1664932941362.png)，计算相应的 Map 估计 ![1664932952631](.\1664932952631.png)

这个方案的实现需要在获取新的观测时从头开始评估轨迹的权重。由于轨迹的长度随着时间的推移而增加，此过程将导致明显低效的算法。根据 Doucet 等人的说法[7] ，通过限制建议分布![1664933338575](.\1664933338575.png)来满足以下假设，获得了一个递归公式来计算重要性权重：

![1664933349300](.\1664933349300.png)

基于公式（2）（3），计算权重过程如下：

![1664933393053](.\1664933393053.png)

这里的![1664933404651](.\1664933404651.png)是由于贝叶斯规则产生的归一化因子，对于所有粒子来说是一样的。

大多数现有的粒子滤波器应用依赖于（6）的递归结构。虽然通用算法指定了一个可用于学习地图的框架，但它保留了如何计算建议分布以及何时执行重采样步骤的开放性。在本文的其余部分中，我们描述了一种计算精确提案分布并自适应执行重采样的技术。

## Ⅲ 改进建议的 RBPF 和 自适应重采样

在文献中，已经提出了几种计算改进的建议分布和降低粒子耗尽风险的方法d [7, 30, 35]。我们的方法应用了两个概念，这两个概念以前被认为是高效粒子滤波器实现的关键先决条件（参见Doucet[7] 等人。即计算改进的建议分布和自适应重采样技术。

### A 改进提议分布

如第二节所述，我们需要从预测步骤中的建议分布 π 中提取样本，以获得下一代粒子。直观地说，建议分布越接近目标分布，滤波器的性能越好。例如，如果我们能够直接从目标分布中提取样本，那么所有粒子的重要性权重都将相等，并且不再需要重采样步骤。不幸的是，在 SLAM 的情况下，一般来说，这种后验的封闭形式是无法获得的。

因此，典型的粒子滤波方法[3, 29] 使用里程运动模型作为建议分布。这种运动模型的优点是，对于大多数类型的机器人来说，它易于计算。此外，根据观测模型![1664935113794](.\1664935113794.png)计算重要性权重，用运动模型![1664935155298](.\1664935155298.png)代替（6）中的 π 就变得很清晰了。

![1664935179718](.\1664935179718.png)

然而，这种建议分布是次优的，特别是当传感器信息明显比基于里程计的机器人运动估计更精确时，也就是：如果机器人配备激光测距仪[例如，配备SICK的激光测量传感器（LMS）]的情况下。

![1664935307407](.\1664935307407.png)

> 图1：运动模型的两个组成部分。在区间 L(i) 内，在使用精确传感器的情况下，两个函数的乘积由观测似然决定

图1展示出了观测似然的有意义区域实质上大大小于运动模型的有意义区域的情况。在这种情况下，当使用里程计模型作为建议分布时，各个样本的重要性权重可以彼此显著的不同，因为只有一小部分提取的样本覆盖了状态空间中在观测模型下具有高可能性的区域（图1中的![1664935509130](.\1664935509130.png)区域）。因此，需要相当多的样本来充分覆盖具有高观测可能性的区域。

一种常见的方法，特别是在定位中，是使用平滑似然函数，避免靠近有意义的区域的粒子获得太低的重要性权重。然而，这种方法丢弃了传感器收集到的有用信息，并且，至少在我们的经验中，常常导致在SLAM环境中不太准确的地图。

为了解决这个问题，可以在生成下一代样本时考虑最近的传感器观测。通过整合到建议分布中，可以将采样集中在观测似然的有意义区域上。根据Doucet[5]，该分布

![1664935697645](.\1664935697645.png)

是关于粒子权重方差的最优建议分布。利用这个建议，权重的计算变成

![1664935731827](.\1664935731827.png)

当为配备精确传感器（如激光测距仪）的移动机器人建模时，使用这种改进方案很方便，因为激光测距仪的精度会生成极大的峰值似然函数。在基于地标的 SLAM 的背景下，Montemerlo 等人[26]提出了一种基于高斯近似的 RBPF 改进方案。这个高斯分布是为每个粒子计算的，使用一个卡尔曼滤波器来估计机器人位姿。这个当地图由一组特征表示时，如果影响特征检测的误差假设为高斯误差，则可以使用该方法。在本文中，我们将计算改进建议分布的思想转移到使用密集栅格地图而不是基于地标的表示的情况。

### B 改进方案的高效计算

当使用栅格地图对环境进行建模时，由于观测似然函数的形状不可预测，因此无法直接获得建议分布的闭合形式近似。

理论上，可以使用自适应粒子滤波器获得建议分布的近似形式[35]。在这个框架中，通过计算（9）中给出的最优建议分布的抽样估计来构造每个粒子的建议分布。在SLAM环境下，首先要从运动模型![1664936958013](.\1664936958013.png)中提取机器人的一组潜在姿态![1664936964625](.\1664936964625.png)。第二步，用观测似然法对这些姿态进行加权，得到最优建议分布的近似。但是，如果观测可能性达到峰值，则从运动模型中采样的姿势样本![1664937180470](.\1664937180470.png)的数量会很高，由于需要密集采样才能充分捕获典型的高似然小区域，这导致了与使用运动模型作为建议分布类似的问题：需要大量采样才能充分覆盖分布的有意义区域。

我们的观察结果之一是，在大多数情况下，目标分布只有有限数量的最大值，而且大多数情况下只有一个最大值。这使我们能够对仅覆盖这些最大值周围区域的位置进行采样![1664937180470](.\1664937180470.png)。忽略分布中意义较小的区域可以节省大量计算资源，因为它需要较少的样本。在本文[14]的前一版本中，我们用区间内的常数![1664937356283](.\1664937356283.png)来近似![1664937384163](.\1664937384163.png)（参见图1），![1664937356283](.\1664937356283.png)由下式给出：

![1664937410537](.\1664937410537.png)



在我们目前的方法中，我们考虑这两个组成部分：观察似然和在区间![1664937476374](.\1664937476374.png)中的运动模型。

我们在扫描配准程序报告的似然函数的最大值附近局部逼近后验![1664937627465](.\1664937627465.png)。

为了有效地绘制下一迭代样本，我们基于该数据计算高斯近似![1664937811938](.\1664937811938.png)。与以往方法的主要区别在于，我们首先使用扫描匹配器来确定观测似然函数的有意义区域。然后，我们在有意义的区域采样，并根据目标分布评估采样点。对于每个粒子 i ，参数 μt(i) 和 ∑t(i)  是由区间![1664937476374](.\1664937476374.png)的K个采样点{xj}分别确定。此外，在计算平均值 μ(i) 和方差 ∑(i) 时，我们考虑了里程计信息. 我们估计高斯参数为

![1664937996915](.\1664937996915.png)
用归一化因子

![1664938005224](.\1664938005224.png)

通过这种方法，我们得到了最优分布的一个闭式近似，这使得我们能够有效地获得下一代粒子。使用这个建议分布，权重可以计算为

![1664938034782](.\1664938034782.png)

![1664938050136](.\1664938050136.png)

注意，η(i) 是与（17）建议分布的高斯近似计算中使用的同一归一化因子。

### C 关于改进方案的讨论

本节中的计算使我们能够分别确定每个粒子的高斯建议分布的参数。这个提议考虑到了最近的里程计读数和激光观测，同时允许我们进行有效的采样。与使用里程运动模型的情况相比，得到的密度具有更低的不确定性。为了说明这一事实，图2描绘了用我们的方法获得的典型粒子分布。

![1664938192225](.\1664938192225.png)

对于无特征的直线走廊，如图2（a）所示，样品通常沿着走廊的主要方向分布。图2（b）示出了到达这种走廊末端的机器人。可以看出，走廊方向的不确定性降低，所有样本都围绕一个点居中。与此相反，图2（c）示出了从原始运动模型采样时的结果分布。

如上所述，我们使用扫描匹配器来确定观测似然函数有意义的区域。这样，我们就把抽样的重点放在重要的区域。现有的扫描匹配算法大多在给定地图和机器人姿态的初始猜测的情况下，最大化观测概率。当似然函数为多模函数时（例如，闭环时），扫描匹配器为每个粒子返回最接近初始猜测的最大值。

一般来说，可能会出现似然函数中的附加最大值丢失的情况，因为只报告了一个模式。然而，由于我们执行频繁的滤波器更新（每次移动0.5 m或旋转25 °后）并限制扫描匹配器的搜索区域，因此我们认为在对数据点进行采样以计算高斯建议分布时，分布只有一个模式。注意，在像循环闭合这样的情况下，过滤器仍然能够保留多个假设，因为重新进入循环时扫描匹配器的起始位置的初始猜测对于每个粒子是不同的。

然而，在某些情况下，至少在理论上，过滤器会变得过于自信。这可能发生在极为杂乱的环境中，并且当里程计受到噪音的严重影响时。解决这个问题的方法是跟踪扫描匹配器的多个模式，并对每个节点分别重复采样过程。然而，在我们使用真实机器人进行的实验中，我们从未遇到过这样的情况。

在过滤过程中，可能会发生扫描匹配过程失败，原因是观察不好或当前扫描与先前计算的地图之间的重叠区域太小。在这种情况下，使用图2（c）所示的机器人的原始运动模型作为建议分布。注意，这种情况很少发生在真实的数据集中（另见第VI-E节）。

### D. 自适应重采样

对粒子滤波器的性能有主要影响的另一方面是重采样步骤。在重采样期间，具有低重要性权重的粒子通常被具有高权重的样本替换。一方面，由于仅使用有限数量的粒子来近似目标分布，因此需要重新采样。另一方面，重采样步骤可能从滤波器中去除好的样本，从而导致粒子贫化。因此，重要的是找到判断何时执行重采样步骤的标准。Liu[23]引入了所谓的有效样本大小来估计当前粒子集代表目标后验的程度。本文根据 Doucet[7] 等人的公式（如下）计算了这个量。

![1664939277305](.\1664939277305.png)

其中![1664939287779](.\1664939287779.png)是指粒子 i 的标准化权重。

![1664939315695](.\1664939315695.png)背后的含义如下：如果样本来自目标分布，由于重要性抽样原则，它们的重要性权重将相等。目标分布的近似性越差，重要性权重的方差越大。由于![1664939315695](.\1664939315695.png)可被视为重要权重分散度的度量，因此它是一个关于评估粒子集与目标的近似程度的有用度量。

我们的算法遵循 Doucet等人[7] 提出的方法，以确定是否应执行重采样步骤。每次![1664939315695](.\1664939315695.png)下降到 N/2 的阈值以下时，我们都会重新采样，其中 N 是粒子数。在广泛的实验中，我们发现这种方法大大降低了重新放置好粒子的风险，因为重新采样操作的次数减少了，并且只在需要时执行。

### E 算法

算法1总结了整个过程。每次有一个新的测量元组![1664939959951](.\1664939959951.png)可用时，将分别为每个粒子计算建议，然后使用建议来更新该粒子。该过程试用以下步骤：

1. 由粒子 i 表示的机器人姿势的初始猜测![1664940110763](.\1664940110763.png)，由粒子之前的位姿（上一次）![1664940205453](.\1664940205453.png)以及由最近过滤器更新过的里程计测量值![1664940259245](.\1664940259245.png)生成。其中：运算符⨁对应于标准姿势复合运算子[24]。
2. 扫描匹配算法基于来自初始猜测的位姿![1664940525407](.\1664940525407.png)生成的地图![1664940536492](.\1664940536492.png)。匹配器执行的搜索被限定在![1664940525407](.\1664940525407.png))周围的有限区域内。如果扫描匹配报告失败，姿势和权重的计算就会基于运动模型（步骤3和4就会被忽略）。
3. 在由扫描匹配器器得到的姿势![1664940525407](.\1664940525407.png)周围选择一组采样点。基于这些点，通过逐点评估在采样位置![1664937180470](.\1664937180470.png)的目标分布![1664941880149](.\1664941880149.png)来计算建议分布的均值和协方差矩阵。在此阶段，还根据（17）来计算加权因子![1664941915259](.\1664941915259.png)。

4. 粒子i的新位姿![1664941939814](.\1664941939814.png)是由改进的提议分布的高斯近似![1664941989465](.\1664941989465.png)得出的。
5. 更新重要性权重。
6. 粒子 i 的地图![1664942035113](.\1664942035113.png)是根据绘制的姿态![1664942061605](.\1664942061605.png)和观测![1664942070549](.\1664942070549.png)进行更新的。


在计算下一迭代样本之后，根据![1664939315695](.\1664939315695.png)的值决定是否执行重采样步骤。

## Ⅳ 实现（实践）问题

这个章节提供了在我们目前的系统中实现算法细节的附加信息。这些问题对于理解方法不是必要的，但是它完善了我们建图系统的精确描述。接下来，我们简单的解释使用的扫描匹配方法、观测模型以及如何逐点的评估运动模型。

我们的方法应用了基于每个粒子的扫描匹配技术。一般来说，任意的扫描匹配技术都能被使用。在我们的实践中，我们使用了扫描匹配器“vasco”（来自卡内基梅隆大学的机器人导航工具包(CARMEN) [27, 36]）。这个扫描匹配器目标是通过将目前的观察结果与目前构建的地图相匹配找到最近似的位姿：

![1664942939110](.\1664942939110.png)

其中，![1664942956664](.\1664942956664.png)是初始预测位姿。这个扫描匹配技术对给定的栅格地图的当前观测的似然函数进行梯度下降搜索。在我们的建图方法中，匹配扫描器仅仅用来寻找观测似然函数的最大局部值。在实践中，所有的扫描匹配技术都可以在给定初始猜测![1664942956664](.\1664942956664.png)的情况下计算参考地图![1664943306494](.\1664943306494.png)和当前扫描![1664943325630](.\1664943325630.png)之间的最佳匹配方式。

为了计算式（21），可以应用贝叶斯规则：寻找观察似然函数![1664943415959](.\1664943415959.png)最大的姿势。为了计算观测的似然度，我们使用所谓“光束端点模型（beam endpoint model）”[40]。在这个模型中，一个扫描中的每个光束被看作是独立的。进一步讲，光束的似然度是基于光束端点与离那点最近的障碍之间的距离计算的。为了达到最快的计算效率，通常使用卷积的局部栅格地图。

另外，建立我们的分布需要在点![1664943921394](.\1664943921394.png)评估![1664943910699](.\1664943910699.png)。我们使用先前提到的“光束端点模型”计算式子的第一个部分。

为了计算第二个部分，有几种闭合形式的运动估计方方法是可用的。不同的方法主要区别于机器人的运动学模型。在我们目前的实践中，我们通过关于里程计运动模型[41]的高斯近似来计算![1664944134451](.\1664944134451.png)。我们通过在卡尔曼滤波的过程中泰勒展开得到这个近似。

一般来说，这里有非常多复杂的方法来估计机器人的运动。然而，我们使用该模型来估计两个过滤器更新之间的运动，这是在机器人移动约0.5米后执行的。在这种情况下，这种近似工作得很好，我们没有观察到类 ekf 模型与一般更准确的基于样本的速度运动模型之间的显著差异[41]。

#### Algorithm 1 

> ![1664955363297](C:\Users\22627\Desktop\一些自己\2D-SLAM\Gmapping\1664955363297.png)
> ![1664955386271](C:\Users\22627\Desktop\一些自己\2D-SLAM\Gmapping\1664955386271.png)

## 复杂度

这个部分讨论用说展示的 RB粒子滤波的办法来学习栅格地图的复杂性。因为我们的方法使用了一个集合来表示地图和位姿的后验，数量 N 代表样本中心量。为了计算建议分布，我们的办法在扫描匹配器发布的可能性最高的位置周围采样。这个采样过程会对每个粒子做 K 次。在计算提议的时候两个粒子之间没有相关性。进一步说，最近的观测![1664943325630](.\1664943325630.png)用来计算均值和方差仅仅只覆盖一部分的地图（被里程计误差和传感器测量范围限制）。所以，复杂性仅仅依赖于粒子的数量 N 。与每个粒子相关联的单个地图的更新也是如此。

在重采样期间，与每个粒子有联系的信息需要被拷贝。在最差的情况下， N-1 各级和被一个粒子取代。在我们目前的系统中，每个粒子存储并保持自己的栅格地图。复制一个粒子，我们就需要复制整个地图。结果，一个重采样最差的复杂度是![1664954566732](.\1664954566732.png)，其中：M 代表相关栅格地图的大小。然而，使用自适应重采样技术只需要少量次数重采样。

决定是否重采样是非常重要的，集成一次观察的复杂度仅线性取决于粒子的个数。如果一次重采样是必需的，代表地图大小的附加因素 M 就会引入复杂度 ![1664954566732](.\1664954566732.png)每次操作的复杂性在 表格Ⅰ 中由描述。

![1664954922229](C:\Users\22627\Desktop\一些自己\2D-SLAM\Gmapping\1664954922229.png)

> 表格Ⅰ 
> 整合一个观测结果的不同操作的复杂性

需要注意的是，重采样步骤的复杂度可以通过使用更智能的地图表达形式（例如 DP-SLAM [9].）被大大减少。在那种情况下，重采样步骤的复杂度就被减少到了![1664955120630](.\1664955120630.png)其中，A 表示被传感器覆盖的（能测量到的）空间。然而，建立一个更好的地图表现方式不是本文的目的。我们实际上认为我们的方法与 DP-SLAM 是正交的，因为这两种技术都可以结合使用实验。此外，在我们使用真实世界数据集的实验中，我们发现重采样步骤不是主导部分，由于自适应重采样策略，重采样步骤很少发生。

## 实验



## 相关工作

## 总结













